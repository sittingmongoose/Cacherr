<?xml version="1.0"?>
<Container version="2">
  <Name>Cacherr</Name>
  <Repository>sittingmongoose/cacherr:dev</Repository>
  <Registry>https://hub.docker.com/r/sittingmongoose/cacherr</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/sittingmongoose/cacherr</Support>
  <Overview>Cacherr - Docker-optimized Plex media caching system designed specifically for Unraid environments. Automatically moves frequently accessed media files to fast cache drives and moves watched content back to array drives.

MOUNT COMPATIBILITY SOLUTION: This template uses the SAME mount paths as your Plex container to prevent media visibility issues. Files are moved to cache with hardlinks created back to original locations so Plex NEVER loses access to your media.</Overview>
  <Category>MediaServer:Other</Category>
  <WebUI>http://[IP]:5445</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/sittingmongoose/cacherr/main/cacherr-unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/sittingmongoose/cacherr/main/cacherr-icon.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled>1703123456</DateInstalled>
  <DonateText/>
  <DonateLink/>
  <Requires>https://emby.media/</Requires>
  <Project>https://github.com/sittingmongoose/cacherr</Project>



  <!-- Required Configuration -->
  <Config Name="PLEX_URL" Target="PLEX_URL" Default="http://YOUR_PLEX_SERVER:32400" Mode="" Description="Your Plex server URL (REQUIRED)" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="PLEX_TOKEN" Target="PLEX_TOKEN" Default="" Mode="" Description="Your Plex authentication token (REQUIRED)" Type="Variable" Display="always" Required="true" Mask="true"/>
  
  <!-- Network Port -->
  <Config Name="Web Port" Target="5445" Default="5445" Mode="tcp" Description="Web interface port" Type="Port" Display="always" Required="true" Mask="false"/>
  
  <!-- CRITICAL: Media Paths - MUST match your Plex container exactly -->
  <Config Name="Media (Primary)" Target="/media" Default="/mnt/user/Media" Mode="rw" Description="Primary media path - MUST match your Plex /media mount EXACTLY" Type="Path" Display="always" Required="true" Mask="false"/>
  <Config Name="Media (NAS Remote)" Target="/Nas1" Default="/mnt/remotes/NAS1_Media2" Mode="rw" Description="NAS media path - MUST match your Plex /Nas1 mount EXACTLY" Type="Path" Display="always" Required="true" Mask="false"/>
  
  <!-- Cache and Config -->
  <Config Name="Cache Directory" Target="/cache" Default="/mnt/user/MediaTranscodes" Mode="rw" Description="Fast cache directory (transcodes folder recommended)" Type="Path" Display="always" Required="true" Mask="false"/>
  <Config Name="Config Directory" Target="/config" Default="/mnt/user/appdata/cacherr" Mode="rw" Description="Configuration and data storage" Type="Path" Display="always" Required="true" Mask="false"/>
  
  <!-- Media Processing Settings -->
  <Config Name="NUMBER_EPISODES" Target="NUMBER_EPISODES" Default="5" Mode="" Description="Number of episodes to cache per series" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="WATCHLIST_TOGGLE" Target="WATCHLIST_TOGGLE" Default="true" Mode="" Description="Enable watchlist caching" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="WATCHED_MOVE" Target="WATCHED_MOVE" Default="true" Mode="" Description="Move watched content back to array" Type="Variable" Display="always" Required="false" Mask="false"/>
  
  <!-- Advanced Settings -->
  <Config Name="TEST_MODE" Target="TEST_MODE" Default="false" Mode="" Description="Test mode - shows what would be moved without actually moving files" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="LOG_LEVEL" Target="LOG_LEVEL" Default="INFO" Mode="" Description="Logging level (DEBUG, INFO, WARNING, ERROR)" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="TZ" Target="TZ" Default="America/New_York" Mode="" Description="Container timezone" Type="Variable" Display="advanced" Required="false" Mask="false"/>
</Container>
